cluster_version    = "1.25"
cluster_ordinal    = 1 //cluster name suffix
experimental       = { oms_agent = false }
sku_tier           = "free"
dns_resource_group = "app-dns-prod-eastus2"
internal_domain    = "my-dns-zone.io"

rbac_bindings = {
  cluster_admin_users = {
    # "service_principal1" = "",
    # "user1"              = ""
    # "user2"              = ""

  }

  cluster_view_users  = {}
  cluster_view_groups = []
}

core_services_config = {
  alertmanager = {
    smtp_host = "smtp-hostname.ds:25"
    smtp_from = "demo@lexisnexisrisk.com"
    routes    = []
    receivers = []
  }

  # coredns = {
  #   forward_zones = {
  #     "" = ""
  #   }
  # }

  external_dns = {
    public_domain_filters = ["my-dns-zone.io"]
  }

  # cert_manager = {
  #   acme_dns_zones      = ["my-dns-zone.io"]
  #   default_issuer_name = "zerossl"
  # }

  ingress_internal_core = {
    domain           = "my-dns-zone.io"
    subdomain_suffix = "hpcc" // dns record suffix
    public_dns       = true
  }

  ingress_core_internal = {
    domain = ["my-dns-zone.io"]
  }
}

cluster_endpoint_access_cidrs  = ["0.0.0.0/0"]
cluster_endpoint_public_access = true

node_groups = {
  thorpool = {
    ultra_ssd         = false
    node_os           = "ubuntu"
    node_type         = "gp"      # gp, gpd, mem, memd, stor
    node_type_version = "v2"      # v1, v2
    node_size         = "2xlarge" # large, xlarge, 2xlarge, 4xlarge, 8xlarge, 12xlarge, 16xlarge, 18xlarge, 20xlarge, 24xlarge, 26xlarge
    single_group      = false
    min_capacity      = 1
    max_capacity      = 2
    # placement_group_key = null
    labels = {
      "lnrs.io/tier" = "standard"
      "workload"     = "thorpool"
    }
    taints = []
    tags   = {}
  },

  roxiepool = {
    ultra_ssd         = false
    node_os           = "ubuntu"
    node_type         = "gp"
    node_type_version = "v2"
    node_size         = "2xlarge"
    single_group      = false
    min_capacity      = 1
    max_capacity      = 1
    # placement_group_key = null
    labels = {
      "lnrs.io/tier" = "standard"
      "workload"     = "roxiepool"
    }
    taints = []
    tags   = {}
  },

  servpool = {
    ultra_ssd         = false
    node_os           = "ubuntu"
    node_type         = "gpd"
    node_type_version = "v1"
    node_size         = "4xlarge"
    single_group      = false
    min_capacity      = 1
    max_capacity      = 3
    # placement_group_key = null
    labels = {
      "lnrs.io/tier" = "standard"
      "workload"     = "servpool"
    }
    taints = []
    tags   = {}
  },

  spraypool = {
    ultra_ssd         = false
    node_os           = "ubuntu"
    node_type         = "gp"
    node_type_version = "v1"
    node_size         = "2xlarge"
    single_group      = false
    min_capacity      = 1
    max_capacity      = 3
    # placement_group_key = null
    labels = {
      "lnrs.io/tier"  = "standard"
      "workload"      = "spraypool"
      "spray-service" = "spraypool"
    }
    taints = []
    tags   = {}
  }
}
